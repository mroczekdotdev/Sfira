$(document).ready(function(){$(document).on("click","a.comment",function(){var n=$(this).parents(".single-post"),r=n.data("id"),u="/comments/"+r,t=n.find(".comments"),i=n.find(".create-comment");$.trim(t.html())==""?$.ajax({type:"GET",url:u,success:function(n){i.slideDown();t.html(n).hide().slideDown()}}):(i.slideToggle(),t.slideToggle())});$(document).on("click",".create-comment button",function(){var n=$(this).parents(".single-post"),t=n.data("id"),r="/comment/create?postId="+t,i=n.find(".message"),u={Message:i.val()};$.ajax({type:"POST",url:r,data:JSON.stringify(u),contentType:"application/json",success:function(r){if(r==="success"){var u=n.find(".comments"),f=n.find("a.comment");$.ajax({type:"GET",url:"/comments/"+t,success:function(t){i.val("");u.html(t);var r=n.find(".single-comment").length;f.html('<i class="fas fa-comment-alt fa-sm fa-fw"><\/i>'+r).hide().fadeIn()}})}else alert("Reply have to be at least 3 characters.")}})})});$(document).ready(function(){function i(){var i=$('.attachmentInput[data-selected="true"]'),n;i[0]==undefined?t():(n=new FormData,n.append("file",i[0].files[0]),$.ajax({type:"POST",url:"/attachment/create",data:n,processData:!1,contentType:!1,success:function(n){t(n)},error:function(){},complete:function(){}}))}function t(t){var r=$("#postMessage").val(),i={message:r};t!==undefined&&(i.attachment=t);$.ajax({type:"POST",url:"/post/create",data:JSON.stringify(i),contentType:"application/json; charset=UTF-8",success:function(){$(".attachmentForm")[0].reset();$(".postForm")[0].reset();n.hide()},error:function(){},complete:function(){}})}var n=$(".attachmentPreview");$(document).on("change","#imageAttachment",function(t){$(".attachmentInput").attr("data-selected","false");t.target.setAttribute("data-selected","true");var i=new Image;i.src=URL.createObjectURL(t.target.files[0]);$("#imagePreview").css({"background-image":"url("+i.src+")","background-position":"center","background-size":"cover","background-repeat":"no-repeat"});n.show()});$(document).on("click",".sendPost",function(){i()})});$(document).ready(function(){$(document).on("click","a.like",function(){var n=$(this),t=n.parents(".single-post").data("id"),i=t+"/like";$.ajax({type:"GET",url:i,success:function(t){n.html('<i class="fas fa-heart fa-sm fa-fw"><\/i>'+t.likescount).removeClass("like").addClass("unlike").hide().fadeIn()}})});$(document).on("click","a.unlike",function(){var n=$(this),t=n.parents(".single-post").data("id"),i=t+"/unlike";$.ajax({type:"GET",url:i,success:function(t){n.html('<i class="far fa-heart fa-sm fa-fw"><\/i>'+t.likescount).removeClass("unlike").addClass("like").hide().fadeIn()}})});$(document).on("click","a.favorite",function(){var n=$(this),t=n.parents(".single-post").data("id"),i=t+"/favorite";$.ajax({type:"GET",url:i,success:function(t){n.html('<i class="fas fa-star fa-sm fa-fw"><\/i>'+t.favoritescount).removeClass("favorite").addClass("unfavorite").hide().fadeIn()}})});$(document).on("click","a.unfavorite",function(){var n=$(this),t=n.parents(".single-post").data("id"),i=t+"/unfavorite";$.ajax({type:"GET",url:i,success:function(t){n.html('<i class="far fa-star fa-sm fa-fw"><\/i>'+t.favoritescount).removeClass("unfavorite").addClass("favorite").hide().fadeIn()}})})});