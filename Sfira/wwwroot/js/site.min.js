$(document).on("click","a.like",function(){var n=$(this).parents(".single-post").data("id"),t=n+"/like",i=$(this);$.ajax({type:"GET",url:t,success:function(n){i.html('<i class="fas fa-heart fa-sm fa-fw"><\/i>'+n.likescount).removeClass("like").addClass("unlike").hide().fadeIn()}})});$(document).on("click","a.unlike",function(){var n=$(this).parents(".single-post").data("id"),t=n+"/unlike",i=$(this);$.ajax({type:"GET",url:t,success:function(n){i.html('<i class="far fa-heart fa-sm fa-fw"><\/i>'+n.likescount).removeClass("unlike").addClass("like").hide().fadeIn()}})});$(document).on("click","a.favorite",function(){var n=$(this).parents(".single-post").data("id"),t=n+"/favorite",i=$(this);$.ajax({type:"GET",url:t,success:function(n){i.html('<i class="fas fa-star fa-sm fa-fw"><\/i>'+n.favoritescount).removeClass("favorite").addClass("unfavorite").hide().fadeIn()}})});$(document).on("click","a.unfavorite",function(){var n=$(this).parents(".single-post").data("id"),t=n+"/unfavorite",i=$(this);$.ajax({type:"GET",url:t,success:function(n){i.html('<i class="far fa-star fa-sm fa-fw"><\/i>'+n.favoritescount).removeClass("unfavorite").addClass("favorite").hide().fadeIn()}})});$(document).on("click","a.comment",function(){var n=$(this).parents(".single-post"),r=n.data("id"),u="/comments/"+r,t=n.find(".comments"),i=n.find(".create-comment");$.trim(t.html())==""?$.ajax({type:"GET",url:u,success:function(n){i.slideDown();t.html(n).hide().slideDown()}}):(i.slideToggle(),t.slideToggle())});$(document).on("click",".create-comment button",function(){var n=$(this).parents(".single-post"),t=n.data("id"),r="/comment/create?postId="+t,i=n.find(".message"),u={Message:i.val()};$.ajax({url:r,type:"POST",data:JSON.stringify(u),contentType:"application/json",success:function(r){if(r==="success"){var u=n.find(".comments"),f=n.find("a.comment");$.ajax({type:"GET",url:"/comments/"+t,success:function(t){i.val("");u.html(t);var r=n.find(".single-comment").length;f.html('<i class="fas fa-comment-alt fa-sm fa-fw"><\/i>'+r).hide().fadeIn()}})}else alert("Reply have to be at least 3 characters.")}})});